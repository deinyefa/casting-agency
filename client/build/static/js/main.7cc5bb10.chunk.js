(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{45:function(e,t,a){e.exports=a(72)},50:function(e,t,a){},70:function(e,t,a){},72:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(24),l=a.n(r),o=(a(50),a(18)),i=a(74),u=a(14),s=a.n(u),m=a(22),d=a(10),E=a(44),p=a(40),f=a.n(p),v=function(){return window.history.replaceState({},document.title,window.location.pathname)},b=c.a.createContext(),g=function(){return Object(n.useContext)(b)},h=a(11),k=Object(h.a)(),O=a(73),N=a(75),j=a(76),C=a(13),w=function(){return c.a.createElement(c.a.Fragment,null,c.a.createElement(O.a,null,"Casting Agency"),c.a.createElement(i.a,{className:"d-flex"},c.a.createElement(N.a,null,c.a.createElement(j.a,null,c.a.createElement(C.a,{to:"/movies"},"Movies"))),c.a.createElement(N.a,null,c.a.createElement(j.a,null,c.a.createElement(C.a,{to:"/actors"},"Actors")))))},x=a(77),L=a(78),y=a(79),R=a(80),_=a(81),A=a(82),P=a(83),U=a(42),S=a(89),T=a(90),I=a(91),B=a(84),D=function(){var e=Object(n.useState)(!1),t=Object(d.a)(e,2),a=t[0],r=t[1],l=g(),o=l.user,u=l.isAuthenticated,s=l.loginWithRedirect,m=l.logout,E=function(){return m({returnTo:window.location.origin})};return c.a.createElement("div",{className:"nav-container"},c.a.createElement(x.a,{color:"light",light:!0,expand:"md"},c.a.createElement(i.a,null,c.a.createElement(L.a,{className:"logo"}),c.a.createElement(y.a,{onClick:function(){return r(!a)}}),c.a.createElement(R.a,{isOpen:a,navbar:!0},c.a.createElement(_.a,{className:"mr-auto",navbar:!0},c.a.createElement(A.a,null,c.a.createElement(P.a,{tag:C.b,to:"/",exact:!0,activeClassName:"router-link-exact-active"},"Home"))),c.a.createElement(_.a,{className:"d-none d-md-block",navbar:!0},!u&&c.a.createElement(A.a,null,c.a.createElement(U.a,{id:"qsLoginBtn",color:"primary",className:"btn-margin",onClick:function(){return s({})}},"Log in")),u&&c.a.createElement(S.a,{nav:!0,inNavbar:!0},c.a.createElement(T.a,{nav:!0,caret:!0,id:"profileDropDown"},c.a.createElement("img",{src:o?o.picture:"",alt:"Profile",className:"nav-user-profile rounded-circle",width:"50"})),c.a.createElement(I.a,null,c.a.createElement(B.a,{header:!0},o?o.name:""),c.a.createElement(B.a,{tag:C.b,to:"/movies",className:"dropdown-profile",activeClassName:"router-link-exact-active"},"Movies"),c.a.createElement(B.a,{tag:C.b,to:"/actors",className:"dropdown-profile",activeClassName:"router-link-exact-active"},"Actors"),c.a.createElement(B.a,{id:"qsLogoutBtn",onClick:function(){return E()}},"Log out")))),!u&&c.a.createElement(_.a,{className:"d-md-none",navbar:!0},c.a.createElement(A.a,null,c.a.createElement(U.a,{id:"qsLoginBtn",color:"primary",block:!0,onClick:function(){return s({})}},"Log in"))),u&&c.a.createElement(_.a,{className:"d-md-none justify-content-between",navbar:!0,style:{minHeight:170}},c.a.createElement(A.a,null,c.a.createElement("span",{className:"user-info"},c.a.createElement("img",{src:o?o.picture:"",alt:"Profile",className:"nav-user-profile d-inline-block rounded-circle mr-3",width:"50"}),c.a.createElement("h6",{className:"d-inline-block"},o?o.name:""))),c.a.createElement(A.a,null,c.a.createElement(C.b,{to:"/actors",activeClassName:"router-link-exact-active"},"Actors")),c.a.createElement(A.a,null,c.a.createElement(C.b,{to:"#",id:"qsLogoutBtn",onClick:function(){return E()}},"Log out")))))))},W=a(26),M=a(88),V=function(e,t,a){var c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"GET",r=Object(n.useState)(t),l=Object(d.a)(r,2),o=l[0],i=l[1];return Object(n.useEffect)((function(){function t(){return(t=Object(m.a)(s.a.mark((function t(){var n,r;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(e,{method:c,headers:{Authorization:"Bearer "+a}});case 2:return n=t.sent,t.next=5,n.json();case 5:r=t.sent,i(r);case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[e,a]),o},q=a(85),H=a(86),J=a(87),z=function(e){var t=e.movie;return c.a.createElement(q.a,{md:"4"},c.a.createElement(N.a,null,c.a.createElement(j.a,null,c.a.createElement(H.a,null,t.title),c.a.createElement(J.a,null,"Release Date: ",t.release_date),c.a.createElement("div",{className:"clearfix p-2"},c.a.createElement(U.a,{color:"primary",className:"float-left"},"Edit"),c.a.createElement(U.a,{color:"danger",className:"float-right"},"Delete")))))},F=function(){var e=Object(n.useState)(1),t=Object(d.a)(e,2),a=t[0],r=t[1],l=Object(n.useState)(),o=Object(d.a)(l,2),u=o[0],s=o[1];(0,g().getTokenSilently)().then((function(e){return s(e)}));var m="/movies?page=".concat(a),E=V(m,{},u)||{};return c.a.createElement(i.a,null,c.a.createElement("h1",null,"Movies!"),c.a.createElement(M.a,null,E.movies?E.movies.map((function(e){return c.a.createElement(z,{key:e.id,movie:e})})):c.a.createElement("p",null,"Loading...")),c.a.createElement(M.a,null,function(){for(var e=[],t=Math.ceil(E.total_movies/10),n=function(t){e=[].concat(Object(W.a)(e),[c.a.createElement("span",{key:t,className:"page-num ".concat(t===a?"active":""),onClick:function(){r(t)}},t)])},l=1;l<=t;l++)n(l);return e}()))},G=function(e){var t=e.actor;return c.a.createElement(q.a,{md:"4"},c.a.createElement(N.a,null,c.a.createElement(j.a,null,c.a.createElement(H.a,null,t.name,", ",t.age),c.a.createElement(J.a,null,t.gender),c.a.createElement("div",{className:"clearfix p-2"},c.a.createElement(U.a,{color:"primary",className:"float-left"},"Edit"),c.a.createElement(U.a,{color:"danger",className:"float-right"},"Delete")))))},K=function(){var e=Object(n.useState)(1),t=Object(d.a)(e,2),a=t[0],r=t[1],l=Object(n.useState)(),o=Object(d.a)(l,2),u=o[0],s=o[1];(0,g().getTokenSilently)().then((function(e){return s(e)}));var m="/actors?page=".concat(a),E=V(m,{},u);return c.a.createElement(i.a,null,c.a.createElement("h1",null,"Actors!"),c.a.createElement(M.a,null,E.actors?E.actors.map((function(e){return c.a.createElement(G,{key:e.id,actor:e})})):c.a.createElement("p",null,"Loading...")),c.a.createElement(M.a,null,function(){for(var e=[],t=Math.ceil(E.total_actors/10),n=function(t){e=[].concat(Object(W.a)(e),[c.a.createElement("span",{key:t,className:"page-num ".concat(t===a?"active":""),onClick:function(){r(t)}},t)])},l=1;l<=t;l++)n(l);return e}()))};a(70);var $=function(){return g.loading?"Loading...":c.a.createElement(o.b,{history:k},c.a.createElement("div",{id:"app",className:"d-flex flex-column w-100"},c.a.createElement(D,null),c.a.createElement(i.a,{className:"flex-grow-1 mt-5"},c.a.createElement(o.c,null,c.a.createElement(o.a,{path:"/",exact:!0,component:w}),c.a.createElement(o.a,{path:"/movies",component:F}),c.a.createElement(o.a,{path:"/actors",component:K})))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Q={domain:Object({NODE_ENV:"production",PUBLIC_URL:""}).REACT_APP_DOMAIN,clientId:Object({NODE_ENV:"production",PUBLIC_URL:""}).REACT_APP_CLIENTID,url:Object({NODE_ENV:"production",PUBLIC_URL:""}).REACT_APP_URL,audience:Object({NODE_ENV:"production",PUBLIC_URL:""}).REACT_APP_AUDIENCE,callbackURL:Object({NODE_ENV:"production",PUBLIC_URL:""}).REACT_APP_CALLBACKURL};a(71);l.a.render(c.a.createElement((function(e){var t=e.children,a=e.onRedirectCallback,r=void 0===a?v:a,l=Object(E.a)(e,["children","onRedirectCallback"]),o=Object(n.useState)(),i=Object(d.a)(o,2),u=i[0],p=i[1],g=Object(n.useState)(),h=Object(d.a)(g,2),k=h[0],O=h[1],N=Object(n.useState)(),j=Object(d.a)(N,2),C=j[0],w=j[1],x=Object(n.useState)(!0),L=Object(d.a)(x,2),y=L[0],R=L[1],_=Object(n.useState)(!0),A=Object(d.a)(_,2),P=A[0],U=A[1];Object(n.useEffect)((function(){(function(){var e=Object(m.a)(s.a.mark((function e(){var t,a,n,c,o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f()(l);case 2:if(t=e.sent,w(t),!window.location.search.includes("code=")){e.next=10;break}return e.next=7,t.handleRedirectCallback();case 7:a=e.sent,n=a.appState,r(n);case 10:return e.next=12,t.isAuthenticated();case 12:if(c=e.sent,p(c),!c){e.next=19;break}return e.next=17,t.getUser();case 17:o=e.sent,O(o);case 19:R(!1);case 20:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var S=function(){var e=Object(m.a)(s.a.mark((function e(){var t,a,n=arguments;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:{},U(!0),e.prev=2,e.next=5,C.loginWithPopup(t);case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(2),console.log(e.t0);case 10:return e.prev=10,U(!1),e.finish(10);case 13:return e.next=15,C.getUser();case 15:a=e.sent,O(a),p(!0);case 18:case"end":return e.stop()}}),e,null,[[2,7,10,13]])})));return function(){return e.apply(this,arguments)}}(),T=function(){var e=Object(m.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return R(!0),e.next=3,C.handleRedirectCallback();case 3:return e.next=5,C.getUser();case 5:t=e.sent,R(!1),p(!0),O(t);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return c.a.createElement(b.Provider,{value:{isAuthenticated:u,user:k,loading:y,popupOpen:P,loginWithPopup:S,handleRedirectCallback:T,getIdTokenClaims:function(){return C.getIdTokenClaims.apply(C,arguments)},loginWithRedirect:function(){return C.loginWithRedirect.apply(C,arguments)},getTokenSilently:function(){return C.getTokenSilently.apply(C,arguments)},getTokenWithPopup:function(){return C.getTokenWithPopup.apply(C,arguments)},logout:function(){return C.logout.apply(C,arguments)}}},t)}),{domain:Q.domain,client_id:Q.clientId,redirect_uri:Q.callbackURL,onRedirectCallback:function(e){k.push(e&&e.targetURL?e.targetURL:window.location.pathname)},audience:Q.audience},c.a.createElement($,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[45,1,2]]]);
//# sourceMappingURL=main.7cc5bb10.chunk.js.map